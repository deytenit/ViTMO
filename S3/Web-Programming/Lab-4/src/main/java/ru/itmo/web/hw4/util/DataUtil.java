package ru.itmo.web.hw4.util;

import ru.itmo.web.hw4.model.Post;
import ru.itmo.web.hw4.model.User;

import javax.servlet.http.HttpServletRequest;
import java.util.Arrays;
import java.util.List;
import java.util.Map;

public class DataUtil {
    private static final List<User> USERS = Arrays.asList(
            new User(1, "MikeMirzayanov", "Mike Mirzayanov", Color.BLUE),
            new User(6, "pashka", "Pavel Mavrin", Color.RED),
            new User(9, "geranazavr555", "Georgiy Nazarov", Color.GREEN),
            new User(11, "tourist", "Gennady Korotkevich", Color.RED)
    );

    private static final List<Post> POSTS = Arrays.asList(
            new Post(1, "Codeforces & Polygon maintenance Feb. 26, 2023", "The Codeforces team is constantly improving both the software and the hardware parts of the system to make the platform more stable and your time on it comfortable.\nHowever, some types of work can not be carried out without downtime. On February 26, extensive server maintenance is planned, so Codeforces and Polygon may work intermittently from 9:00 UTC to 15:00 UTC. We will try to make the downtime as short as possible, but we cannot completely get rid of it.\nWe apologize for any potential inconvenience.", 9),
            new Post(3, "touristream 012: Codeforces Round 672 (Div. 2)", "Tune in to my Twitch to watch me solve today's Codeforces Round 672 (Div. 2) virtually.\nUPD: Video on YouTube.", 11),
            new Post(5, "About Problem Coincidences", "Hi.\nOf course, there was an unpleasant incident with the problem today. In fact, the problem almost coincided with another problem in the old round, which was hosted 5 years ago.\nYou, of course, are shocked. You, of course, think that the round should be unrated.\nYou are wrong. Here's why. We need to clearly distinguish between two scenarios with coincided problems in our rounds.\nFirst. The writer has knowingly plagiarized. This is an outrageous scenario. Such behavior knows no excuse and it is a conscious detriment to our community. Shame on the writer!\nSecond. The problem was matched unintentionally. The writer was unaware of some old problem. This happens. The coordinator had not seen this old problem before or had forgotten it. We are all human. The round was tested, but the testers did not indicate such a coincidence. Too bad, it happens. Who can we blame for this situation? The writer? Most likely, the writer did a lot of work to prepare the round. What can we blame else? The coordinator? Do you really think that a coordinator should remember all 8500 problems from the archive (and, by this logic, 10,000 more from various other sources)? Show me such a person! Oh, you haven't heard of them... Maybe the testers are to blame? Or me personally?\nNo, all these people have put a lot of effort into preparation. You may have partially lost the buzz from solving the 2-hour round. The authors and coordinator put weeks of work into it!\nHave you noticed that every Codeforces round has been tested by a much larger number of testers in recent years? Thanks to them! We put a lot of effort into it. But failures like this happen.\nI insist that in such cases, no recriminations are acceptable on those who prepared the round for you.\nI’m living in the world of programming competitions for more than 20 years. And I have seen the coincidence of problems, not only on the Internet rounds, but in more serious competitions. It happens. There is only one way to avoid it — do not hold competitions. Stop writing new problems.\nIn any other case, it will sometimes happen. If it did not happen today, it will happen tomorrow. All we can do is make some effort to prevent it.\nWe come up with and solve problems that revolve around a narrow set of topics. We are inspired by similar models, learning from similar educational tasks. Of course, sometimes people think alike. And this happens everywhere, whether in science, art, or any other field of knowledge.\nBut someone was wrong in this situation, wasn't he? I'll answer who. Those who wrote public comments of \"aah! the problem is the same!\" Those who rushed to write a post about it. Are you out of your mind? There were orange participants among you, and you still have no sense of the ethics of the competition? Why don't you read the terms of participation you confirmed before a round?\nIf a participant remembers a wide range of tasks and knows how to put them into practice, that's not a bad skill. Let a small fraction of participants be rewarded for this if such a mishap as a problem coincidence occurs. No one in their right mind would shout \"let's cancel the results of the ICPC finals because there was a problem coincide\". Although the price of victory and reward there is several orders of magnitude higher than another round on Codeforces.\nI am strongly against the creation of such a precedent. You can't make a round unrated if unintentionally some problem coincided with some other old problem. It's a road that leads into a swamp. And we may not get out of it.", 1),
            new Post(12, "ITMO Algorithms, Semester 4", "Hello Codeforces!\nThe final semester starts this week! As usual, the live lectures will be on Twitch on Fridays at 18:00 MSK, and the recorded videos will be on Youtube.\nTopics of the fourth semester:\n- Matchings\n- Bipartite Matching\n- Non-bipartite Matching (blossoms)\n- Assignment Problem\n- Network Flows\n- Maximal Flow\n- Minimal Cost Flow\n- Skew-Symmetric Flows\n- Linear Programming\n- Fast Fourier Transformation\nPlus something more :)\nSee you!", 6),
            new Post(15, "Трансляции на Codeforces", "Всем привет!\nСегодня на Codeforces появилась поддержка трансляций (стримов)! Спасибо Геннадию tourist Короткевичу за отличную идею!\nПоддерживаются две популярные платформы — Twitch и YouTube. Пока возможность добавлять трансляции на Codeforces открыта красным участникам и по индивидуальным приглашениям. Позднее, мы, возможно, откроем эту возможность большему числу пользователей.\nИдея состоит в том, чтобы стримеры могли анонсировать свои трансляции на аудиторию Codeforces. Для этого трансляцию нужно добавить на сайт, используя специальный раздел в профиле. Обратите внимание, что при добавлении Twitch-трансляции вам надо указать просто URL вашего канала, а при добавлении YouTube-трансляции — её уникальную короткую ссылку (ссылку на видео youtu.be/…).\nНезадолго до старта трансляции в сайдбаре справа появится уведомление о предстоящей трансляции, которое будут видеть все посетители сайта.\nЕсли вы указали название трансляции только на русском языке, то подразумевается, что рабочий язык трансляции — русский, и она будет видна исключительно в русском интерфейсе.\nНапример, прямо сейчас в русскоязычном интерфейсе есть анонс лекции Павла pashka Маврина в рамках его занятий в ИТМО по теме \"игры на графах\".\nТрансляции в сайдбаре\nМы встроили просмотр трансляций прямо в интерфейс Codeforces. Чат YouTube-трансляции оказалось встроить непросто, пока такой возможности нет. Для трансляций Twitch чат будет виден на Codeforces.\nВ наших планах еще немного улучшить эту функциональность. Как вы думаете, какие улучшения были бы полезны? Действительно ли термин \"Трансляция\" на русском подходящий? Или следует использовать \"Стрим\"?", 9)
    );

    public static void addData(HttpServletRequest request, Map<String, Object> data) {
        data.put("users", USERS);
        data.put("posts", POSTS);

        for (User user : USERS) {
            if (Long.toString(user.getId()).equals(request.getParameter("logged_user_id"))) {
                data.put("user", user);
            }
        }
    }
}
